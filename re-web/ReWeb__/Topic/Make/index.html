<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (re-web.ReWeb__.Topic.Make)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">re-web</a> &#x00BB; <a href="../../index.html">ReWeb__</a> &#x00BB; <a href="../index.html">Topic</a> &#x00BB; Make</nav><h1>Module <code>Topic.Make</code></h1><p><code>Make(Msg)</code> is a module for topics that can handle messages of type <code>Msg.t</code>.</p></header><h3 class="heading">Parameters</h3><ul><li><code><a href="argument-1-Msg/index.html">Msg</a>: { ... }</code></li></ul><h3 class="heading">Signature</h3><dl><dt class="spec type" id="type-subscription"><a href="#type-subscription" class="anchor"></a><code><span class="keyword">type</span> subscription</code>;</dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code>;</dt></dl><dl><dt class="spec value" id="val-close"><a href="#val-close" class="anchor"></a><code><span class="keyword">let</span> close: <a href="index.html#type-t">t</a> <span>=&gt;</span> Lwt.t(unit);</code></dt><dd><p><code>close(topic)</code> closes an open topic. It has no effect on a closed topic.</p></dd></dl><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">let</span> make: unit <span>=&gt;</span> <a href="index.html#type-t">t</a>;</code></dt><dd><p><code>make()</code> is a new topic. Typically you will create these at a scope that can pass them to any parts of the application that need them.</p></dd></dl><dl><dt class="spec value" id="val-publish"><a href="#val-publish" class="anchor"></a><code><span class="keyword">let</span> publish: <a href="index.html#type-t">t</a> <span>=&gt;</span> <span>msg:<a href="argument-1-Msg/index.html#type-t">Msg.t</a></span> <span>=&gt;</span> Lwt.t(unit);</code></dt><dd><p><code>publish(topic, ~msg)</code> publishes <code>msg</code> onto the <code>topic</code>. This broadcasts the <code>msg</code> to all subscribers of the <code>topic</code>.</p></dd></dl><dl><dt class="spec value" id="val-stream"><a href="#val-stream" class="anchor"></a><code><span class="keyword">let</span> stream: <a href="index.html#type-subscription">subscription</a> <span>=&gt;</span> Lwt_stream.t(<a href="argument-1-Msg/index.html#type-t">Msg.t</a>);</code></dt><dd><p><code>stream(subscription)</code> is a live stream of all messages published to the topic subscribed to with <code>subscription</code>.</p></dd></dl><dl><dt class="spec value" id="val-subscribe"><a href="#val-subscribe" class="anchor"></a><code><span class="keyword">let</span> subscribe: <a href="index.html#type-t">t</a> <span>=&gt;</span> Lwt.t(<a href="index.html#type-subscription">subscription</a>);</code></dt><dd><p><code>subscribe(topic)</code> is a subscription to the <code>topic</code>.</p></dd></dl><dl><dt class="spec value" id="val-unsubscribe"><a href="#val-unsubscribe" class="anchor"></a><code><span class="keyword">let</span> unsubscribe: <a href="index.html#type-subscription">subscription</a> <span>=&gt;</span> Lwt.t(unit);</code></dt><dd><p><code>unsubscribe(subscription)</code> unsubscribes from the topic that was subscribed to with <code>subscription</code>.</p></dd></dl></div></body></html>